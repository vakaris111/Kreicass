<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MB Kreicas administravimas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
    <header class="topbar">
        <div class="container nav-container">
            <a class="logo" href="index.html">MB Kreicas</a>
            <button class="nav-toggle" aria-label="Atidaryti meniu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav class="main-nav">
                <a href="index.html">Pradžia</a>
                <a href="cars.html">Automobiliai</a>
                <a href="about.html">Apie mus</a>
                <a href="contact.html">Kontaktai</a>
                <a href="admin.html" class="active admin-link">Admin</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="page-hero">
            <div class="container">
                <h1>Automobilių valdymo panelė</h1>
                <p>Pridėkite, redaguokite arba eksportuokite automobilius be kodo koregavimo.</p>
            </div>
        </section>

        <section class="section">
            <div class="container admin-grid">
                <div class="admin-card">
                    <h2>Naujas automobilis</h2>
                    <form id="carForm" class="admin-form">
                        <label for="carTitle">Pavadinimas</label>
                        <input type="text" id="carTitleInput" name="carTitle" placeholder="Pvz., 2021 Mercedes-Benz GLE" required />

                        <label for="carPrice">Kaina (€)</label>
                        <input type="number" id="carPrice" name="carPrice" placeholder="45000" required />

                        <label for="carYear">Metai</label>
                        <input type="number" id="carYear" name="carYear" placeholder="2021" required />

                        <label for="carMileage">Rida (km)</label>
                        <input type="number" id="carMileage" name="carMileage" placeholder="55000" required />

                        <label for="carFuel">Kuras</label>
                        <input type="text" id="carFuel" name="carFuel" placeholder="Dyzelinas" required />

                        <label for="carTransmission">Pavarų dėžė</label>
                        <input type="text" id="carTransmission" name="carTransmission" placeholder="Automatinė" required />

                        <label for="carDrivetrain">Varantieji ratai</label>
                        <input type="text" id="carDrivetrain" name="carDrivetrain" placeholder="4Matic" />

                        <label for="carWheelDiameter">Ratlankių skersmuo</label>
                        <input type="text" id="carWheelDiameter" name="carWheelDiameter" placeholder="20 colių" />

                        <label for="carPower">Galia (kW)</label>
                        <input type="number" id="carPower" name="carPower" placeholder="190" />

                        <label for="carBody">Kėbulas</label>
                        <input type="text" id="carBody" name="carBody" placeholder="Visureigis" />

                        <label for="carColor">Spalva</label>
                        <input type="text" id="carColor" name="carColor" placeholder="Pilka" />

                        <label for="carDescription">Aprašymas</label>
                        <textarea id="carDescriptionInput" name="carDescription" rows="4" placeholder="Automobilio išskirtinumai" required></textarea>

                        <label for="carFeatures">Įranga (atskirkite kableliais)</label>
                        <input type="text" id="carFeatures" name="carFeatures" placeholder="LED žibintai, Šildomos sėdynės" />

                        <div class="upload-group">
                            <span class="upload-group__label">Galerijos nuotraukos</span>
                            <p class="form-hint">Įkelkite savo nuotraukas arba nurodykite nuorodas. Įkelti failai bus išsaugoti tik šiame įrenginyje.</p>
                            <div class="upload-actions">
                                <label class="btn ghost btn-upload">
                                    Pasirinkti nuotraukas
                                    <input type="file" id="carGalleryUpload" accept="image/*" multiple hidden />
                                </label>
                            </div>
                            <div id="localGalleryPreview" class="upload-preview" data-empty="Dar nėra įkeltų nuotraukų."></div>
                        </div>

                        <label for="carGallery">Nuotraukų nuorodos (atskirkite kableliais)</label>
                        <input type="text" id="carGallery" name="carGallery" placeholder="https://..." />
                        <p class="form-hint">Palaikomos ir vietinės nuotraukos, ir viešos nuorodos.</p>

                        <label for="carSdk">SDK</label>
                        <input type="text" id="carSdk" name="carSdk" placeholder="SDK..." />

                        <button type="submit" class="btn primary">Išsaugoti automobilį</button>
                        <p class="form-note">Automobiliai, įskaitant įkeltas nuotraukas, saugomi šio įrenginio naršyklėje (localStorage). Galite eksportuoti / importuoti duomenis žemiau.</p>
                    </form>
                </div>
                <div class="admin-card">
                    <h2>Automobilių sąrašas</h2>
                    <div class="admin-actions">
                        <button id="exportCars" class="btn ghost">Eksportuoti JSON</button>
                        <label class="btn ghost btn-upload">
                            Importuoti JSON
                            <input type="file" id="importCars" accept="application/json" hidden />
                        </label>
                        <button id="resetCars" class="btn ghost danger">Atstatyti į numatytą sąrašą</button>
                    </div>
                    <div id="adminList" class="admin-list" aria-live="polite"></div>
                </div>
                <div class="admin-card admin-card--security">
                    <h2>Prisijungimo nustatymai</h2>
                    <p class="admin-card__intro">Slaptažodis ir prisijungimo būsena saugomi tik šiame įrenginyje. Pasikeiskite slaptažodį, kad tik jūs galėtumėte pasiekti valdymo panelę.</p>
                    <form id="passwordForm" class="admin-form admin-form--compact">
                        <label for="currentPassword">Dabartinis slaptažodis</label>
                        <input type="password" id="currentPassword" name="currentPassword" autocomplete="current-password" placeholder="Įveskite dabartinį slaptažodį" required />

                        <label for="newPassword">Naujas slaptažodis</label>
                        <input type="password" id="newPassword" name="newPassword" autocomplete="new-password" placeholder="Bent 6 simbolių" required />
                        <p class="form-hint">Jei slaptažodis dar nebuvo keistas, numatytoji reikšmė: <code>MBKreicas2024!</code>.</p>

                        <button type="submit" class="btn ghost">Išsaugoti slaptažodį</button>
                        <p id="passwordMessage" class="form-error" role="status" hidden></p>
                    </form>
                    <div class="security-actions">
                        <button type="button" id="logoutBtn" class="btn ghost danger">Atsijungti</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container footer-content">
            <div>
                <a class="logo" href="index.html">MB Kreicas</a>
                <p class="footer-text">Premium automobilių atranka ir pardavimas.</p>
            </div>
            <div>
                <p class="footer-text">Telefonas: <a href="tel:+37060012345">+370 600 12345</a></p>
                <p class="footer-text">El. paštas: <a href="mailto:info@mbkreicas.lt">info@mbkreicas.lt</a></p>
                <p class="footer-text">Adresas: Ukmergės g. 222, Vilnius</p>
            </div>
            <div class="footer-bottom">
                <p>© <span id="year"></span> MB Kreicas. Visos teisės saugomos.</p>
            </div>
        </div>
    </footer>

    <script src="assets/js/util.js"></script>
    <script src="assets/js/nav.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/dataService.js"></script>
    <script src="assets/js/admin.js"></script>
</body>
</html>
