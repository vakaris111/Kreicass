<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rastas klaidos puslapis</title>
    <style>
        :root { font-family: 'Manrope', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; color: #0c1b33; background: #f4f6fb; }
        body { margin: 0; min-height: 100vh; display: grid; place-items: center; padding: 24px; }
        .card { max-width: 640px; width: 100%; background: #fff; border-radius: 16px; box-shadow: 0 16px 40px rgba(12, 27, 51, 0.12); padding: 32px; text-align: center; }
        h1 { margin: 0 0 12px; font-size: 28px; letter-spacing: -0.02em; }
        p { margin: 0 0 20px; color: #4a607f; }
        .btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 12px 18px; border-radius: 12px; text-decoration: none; font-weight: 700; color: #fff; background: linear-gradient(135deg, #0f5be7, #0c1b33); box-shadow: 0 8px 18px rgba(15, 91, 231, 0.35); }
        .hint { font-size: 14px; color: #5f7395; margin-top: 10px; }
        code { background: #eef2fb; padding: 4px 8px; border-radius: 6px; font-size: 13px; }
    </style>
</head>
<body>
    <div class="card">
        <h1>Kelias nerastas – perkeliame jus į tinkamą puslapį</h1>
        <p id="message">Ieškomas puslapis nerastas. Bandome nukreipti jus ten, kur reikia...</p>
        <a class="btn" href="/">Grįžti į pradžią</a>
        <p class="hint">Jei nepavyksta, patikrinkite adresą arba naudokite meniu.</p>
    </div>
    <script>
        (function () {
            const redirects = {
                '': 'index.html',
                'index': 'index.html',
                'cars': 'cars.html',
                'car': 'car.html',
                'about': 'about.html',
                'contact': 'contact.html',
                'login': 'login.html',
            };

            const path = window.location.pathname.replace(/^\//, '').replace(/\/$/, '');
            const segments = path.split('/').filter(Boolean);
            const page = segments[0] || '';

            const target = redirects[page];
            if (target) {
                const search = window.location.search;
                const hash = window.location.hash;
                let destination = `/${target}${search}${hash}`;

                if (page === 'car' && segments.length > 1 && !search.includes('slug=')) {
                    const slug = decodeURIComponent(segments.slice(1).join('/'));
                    const params = new URLSearchParams(search.replace(/^\?/, ''));
                    params.set('slug', slug);
                    destination = `/car.html?${params.toString()}${hash}`;
                }

                window.location.replace(destination);
            } else {
                const msg = document.getElementById('message');
                if (msg) {
                    msg.textContent = 'Puslapio adresas neatpažintas. Paspauskite mygtuką žemiau ir grįžkite į pradžią.';
                }
            }
        })();
    </script>
</body>
</html>
